{% extends "BracketApp/BracketApp_base.html" %}
  {% load i18n %}
  {% load bootstrap4 %}

  {% block body_block %}
  <div class="jumbotron">
    {% if submitted %}
      <h1 class=display>Thank you for submitting a bracket!</h1>
      <h1 class=display>Good luck out there, tiger ;)</h1>
    {% else %}
      {% if entry_open %}
        <h1 class=display>{{season}}</h1>
        <form method="POST">
          {% csrf_token %}
          <fieldset>
            <legend>Player</legend>
            {{ player_form.non_field_errors }}
      			{% for field in player_form %}
      				<div class="row">
      					<div class="col-md-3">{% bootstrap_label field.label %}</div>
      					<div class="col-md-8">{% bootstrap_field field show_label=False %}</div>
      				</div>
      			{% endfor %}
          </fieldset>

          <fieldset>
            <legend>Bracket</legend>
            <ul>
              <!-- <li>A "finish" of 1 corresponds to THE ONE and 10 corresponds to contestants eliminated at the second rose ceremony.</li> -->
              <li>Rank the contestants in order of finish (1 = THE SOLE SURVIVOR, 18 = the third boot).</li>
              <!-- <li><b>A player's finish will correspond to the order that they leave the "edge of extinction" (or decide to not go) or are eliminated from the challenge to get back into the game.</b></li>
              <li>DPT's Hints:
                <ol>
                  <li>Every season there has been a mix of new and returning players, at least one of the finalists has been a returning player. There are 4 returning players this season.</li>
                  <li>The returning players have a "knack" for finding idol clues and idols.</li>
                  <li>The edge of extinction format seems to be particularly suited for Joe "Amazing/Survivor Macgyver" Anglim, who is known for his incredible survival skills and challenge abilities. Just like season 22: redemption island seemed to be constructed for Boston Rob to win, and (spoiler!) he did win.</li>
                  <li>Edge of Extinction may refer to the fact that survivor is on the edge of being cancelled?</li>
                </ol>
              </li> -->
            </ul>
      			{{ bracket_form.management_form }}
            <div class="error">
              {{ bracket_form.non_form_errors }}
            </div>
            <ol class="row">
              {% for form in bracket_form %}
                <li>
                  {% for field in form.visible_fields %}
                    <div class="col-md-10">{% bootstrap_label field.label %}</div>
                    <div class="col-md-10">{% bootstrap_field field show_label=False %}</div>
                  {% endfor %}
                </li>
              {% endfor %}
            </ol>
          </fieldset>

          {% if bonus_form %}
            <fieldset>
              <legend>Bonus</legend>
              {{ bonus_form.non_field_errors }}
        			{% for field in bonus_form %}
        				<div class="row">
        					<div class="col-md-3">{% bootstrap_label field.label %}</div>
        					<div class="col-md-8">{% bootstrap_field field show_label=False %}</div>
        				</div>
        			{% endfor %}
            </fieldset>
          {% endif %}

          <input type="submit" class="btn btn-primary" value="Submit">

        </form>
      {% else %}
        <h1 class=display>Bracket entry is closed for {{season}}.</h1>
        <h1 class=display>Come back next season!</h1>
      {% endif %}
    {% endif %}
  </div>

  <div class="row">
    {% for contestant in contestants %}
      <div class="col-sm-4">
        <div class="card text-white">
          <img class="card-img" src="{{contestant.contestant_pic}}" alt=":D">
          <div class="card-img-overlay">
            <h4 class="card-title">{{contestant}}</h4>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
  {% endblock %}
